{"remainingRequest":"/Users/xmly/Desktop/blog/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xmly/Desktop/blog/frontend/src/components/Header.vue?vue&type=style&index=0&id=61dd7a3d&scoped=true&lang=css&","dependencies":[{"path":"/Users/xmly/Desktop/blog/frontend/src/components/Header.vue","mtime":1628143066776},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/css-loader/dist/cjs.js","mtime":1625477639639},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1626859461208},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/postcss-loader/src/index.js","mtime":1625477639937},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1625477632720},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/vue-loader/lib/index.js","mtime":1626859461208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7CiAgbWFyZ2luOiAwIGF1dG87CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1heC1oZWlnaHQ6IDEwMHB4OwogIG1hcmdpbi1ib3R0b206IDVweDsKfQoKLmJsb2NrIHsKICB0ZXh0LWFsaWduOiByaWdodDsKICBwYWRkaW5nOiA1cHg7Cn0KCi50aXRsZSB7CiAgZm9udC1zaXplOiA0MHB4OwogIGNvbG9yOiBuYXZ5OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmFjdGlvbiB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBtYXJnaW4tdG9wOiAzNXB4Owp9Cg=="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"content\">\n    <el-row>\n\n      <el-col :span=\"8\" class=\"action\">\n        <el-link type=\"primary\" href=\"/blogs\">主页</el-link>\n        <el-divider direction=\"vertical\"></el-divider>\n        <el-link type=\"primary\" href=\"/blog/add\">发表文章</el-link>\n\n      </el-col>\n\n      <el-col :span=\"8\">\n        <h1 class=\"title\">Felix's Blog</h1>\n      </el-col>\n\n      <el-col :span=\"8\" class=\"block\">\n        <span v-show=\"!hasLogin\">\n          <el-link type=\"primary\" href=\"/register\">注册</el-link>\n          <el-divider direction=\"vertical\"></el-divider>\n        </span>\n        <span v-show=\"!hasLogin\">\n          <el-link type=\"primary\" href=\"/login\">登陆</el-link>\n          <el-divider direction=\"vertical\"></el-divider>\n        </span>\n        <span v-show=\"hasLogin\">\n          <el-link type=\"primary\" @click=\"logout\">退出登陆&nbsp;</el-link>\n        </span>\n        <span>{{user.username}}&nbsp;</span>\n        <el-avatar :size=\"50\" :src=\"user.avatar\"></el-avatar>\n      </el-col>\n\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Header\",\n  data() {\n    return {\n      user: {\n        username: '请先登录',\n        avatar: 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'\n      },\n      hasLogin: false\n    }\n  },\n  methods: {\n    logout() {\n      const _this = this\n      _this.$axios.get(\"/logout\", {\n        headers: {\n          \"Authorization\": localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        _this.$store.commit(\"REMOVE_INFO\")\n        _this.$router.push(\"/login\")\n      })\n    }\n  },\n  created() {\n    if (this.$store.getters.getUser.username) {\n      this.user.username = this.$store.getters.getUser.username\n      if (this.$store.getters.getUser.avatar) {\n      this.user.avatar = this.$store.getters.getUser.avatar\n      }\n      this.hasLogin = true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  background-color: lightblue;\n  margin: 0 auto;\n  text-align: center;\n  max-height: 100px;\n  margin-bottom: 5px;\n}\n\n.block {\n  text-align: right;\n  padding: 5px;\n}\n\n.title {\n  font-size: 40px;\n  color: navy;\n  text-align: center;\n}\n\n.action {\n  text-align: left;\n  margin-top: 35px;\n}\n</style>"]}]}