{"remainingRequest":"/Users/xmly/Desktop/blog/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xmly/Desktop/blog/frontend/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xmly/Desktop/blog/frontend/src/components/Header.vue","mtime":1627630858988},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1625477632720},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/babel-loader/lib/index.js","mtime":1625477631450},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1625477632720},{"path":"/Users/xmly/Desktop/blog/frontend/node_modules/vue-loader/lib/index.js","mtime":1626859461208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGVhZGVyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAn6K+35YWI55m75b2VJywKICAgICAgICBhdmF0YXI6ICdodHRwczovL2N1YmUuZWxlbWVjZG4uY29tLzMvN2MvM2VhNmJlZWM2NDM2OWMyNjQyYjkyYzY3MjZmMWVwbmcucG5nJwogICAgICB9LAogICAgICBoYXNMb2dpbjogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ291dCgpIHsKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzCiAgICAgIF90aGlzLiRheGlvcy5nZXQoIi9sb2dvdXQiLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkF1dGhvcml6YXRpb24iOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoIlJFTU9WRV9JTkZPIikKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlci51c2VybmFtZSkgewogICAgICB0aGlzLnVzZXIudXNlcm5hbWUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIudXNlcm5hbWUKICAgICAgdGhpcy51c2VyLmF2YXRhciA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlci5hdmF0YXIKCiAgICAgIHRoaXMuaGFzTG9naW4gPSB0cnVlCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"content\">\n    <el-row>\n\n      <el-col :span=\"8\" class=\"action\">\n        <el-link type=\"primary\" href=\"/blogs\">主页</el-link>\n        <el-divider direction=\"vertical\"></el-divider>\n        <el-link type=\"primary\" href=\"/blog/add\">发表文章</el-link>\n\n      </el-col>\n\n      <el-col :span=\"8\">\n        <h1 class=\"title\">Felix's Blog</h1>\n      </el-col>\n\n      <el-col :span=\"8\" class=\"block\">\n        <span v-show=\"!hasLogin\">\n          <el-link type=\"primary\" href=\"/register\">注册</el-link>\n          <el-divider direction=\"vertical\"></el-divider>\n        </span>\n        <span v-show=\"!hasLogin\">\n          <el-link type=\"primary\" href=\"/login\">登陆</el-link>\n          <el-divider direction=\"vertical\"></el-divider>\n        </span>\n        <span v-show=\"hasLogin\">\n          <el-link type=\"primary\" @click=\"logout\">退出登陆&nbsp;</el-link>\n        </span>\n        <span>{{user.username}}&nbsp;</span>\n        <el-avatar :size=\"50\" :src=\"user.avatar\"></el-avatar>\n      </el-col>\n\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Header\",\n  data() {\n    return {\n      user: {\n        username: '请先登录',\n        avatar: 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'\n      },\n      hasLogin: false\n    }\n  },\n  methods: {\n    logout() {\n      const _this = this\n      _this.$axios.get(\"/logout\", {\n        headers: {\n          \"Authorization\": localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        _this.$store.commit(\"REMOVE_INFO\")\n        _this.$router.push(\"/login\")\n      })\n    }\n  },\n  created() {\n    if (this.$store.getters.getUser.username) {\n      this.user.username = this.$store.getters.getUser.username\n      this.user.avatar = this.$store.getters.getUser.avatar\n\n      this.hasLogin = true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  max-width: 960px;\n  margin: 0 auto;\n  text-align: center;\n}\n\n.block {\n  text-align: right;\n  padding: 5px;\n}\n\n.title {\n  color: navy;\n  text-align: center;\n}\n\n.action {\n  text-align: left;\n  margin-top: 30px;\n}\n</style>"]}]}